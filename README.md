# AI聊天竞技场 (AI Chat Arena)

一个功能强大的Web版AI对话系统，支持两个AI实例进行智能对话交流，具备先进的上下文压缩、多平台支持和实时交互功能。

## ✨ 核心功能特性

### 🤖 智能对话系统
- **双AI对话引擎**: 支持两个独立AI实例进行自动化智能对话交流
- **实时流式响应**: 采用SSE技术实现打字机效果的实时消息显示
- **多平台API支持**: 完全兼容OpenAI和Google Gemini API
- **自定义开场白**: 灵活设置对话起始话题和方向

### 🧠 智能上下文压缩
- **AI模型压缩**: 使用AI模型对超出保留范围的历史消息进行智能压缩
- **三级压缩强度**: 轻度(保留70%)、中度(保留50%)、重度(保留30%)压缩选项
- **消息保护机制**: 可设置保护最近N条消息不被压缩（默认5条）
- **🗜️ 压缩可视化**: 被压缩消息显示特殊标识，支持压缩统计查看
- **智能缓存**: 自动缓存压缩结果，避免重复处理相同内容
- **上下文感知**: 压缩时携带上下文消息，确保压缩质量和连贯性

### 🎛️ 高级对话控制
- **轮次限制**: 可设置最大对话轮次，支持无限制模式
- **实时控制**: 支持随时暂停、继续、停止对话
- **智能重试**: 可配置重试次数和延迟间隔
- **消息间隔**: 自动控制对话节奏，避免过快请求

### 💾 数据管理与配置
- **配置持久化**: 自动保存所有配置到本地存储
- **提示词管理**: 内置提示词库，支持自定义添加和管理
- **多代理配置**: 支持多个代理账号的灵活切换
- **对话导出**: 支持JSON格式导出完整对话记录和压缩统计

### 🎨 现代化界面
- **响应式设计**: 完美适配桌面和移动设备
- **玻璃态效果**: 采用现代化UI设计风格
- **实时状态显示**: 清晰的对话状态和进度指示
- **暗色主题**: 护眼暗色界面设计



## 🚀 快速开始

### 系统要求
- 现代浏览器（Chrome、Firefox、Safari、Edge）
- 稳定的网络连接
- OpenAI或Gemini API密钥

### 使用步骤

1. **启动应用**
   ```bash
   # 直接在浏览器中打开index.html文件
   # 或使用本地服务器
   python -m http.server 8000
   # 然后访问 http://localhost:8000
   ```

2. **配置AI实例**
   - 在左侧配置面板中设置AI A和AI B的API信息
   - 选择端点类型（OpenAI/Gemini）
   - 配置API地址、密钥和模型名称
   - 设置各自的角色提示词

3. **配置压缩功能（可选）**
   - 启用智能压缩以节省Token成本
   - 选择压缩强度和保护条数
   - 配置专用的压缩AI模型

4. **开始对话**
   - 输入开场白
   - 点击"发起对话"开始AI间的自动对话
   - 观察实时对话进展和压缩效果

5. **管理对话**
   - 随时暂停、继续或停止对话
   - 导出对话记录用于分析
   - 调整配置进行不同实验
   
   

## 🛠️ 技术特性

### 前端技术栈
- **纯原生技术**: HTML5 + CSS3 + Vanilla JavaScript
- **现代CSS特性**: CSS变量、Flexbox、Grid布局
- **性能优化**: 硬件加速、虚拟滚动、内存管理
- **响应式设计**: 完美适配桌面和移动设备

### 核心架构设计
- **模块化结构**: 清晰的类组织和功能分离
- **事件驱动**: 基于事件的系统架构
- **异步处理**: Promise/async-await异步编程
- **错误处理**: 完善的错误捕获和恢复机制

### 数据处理
- **实时流式**: SSE技术实现实时消息流
- **智能缓存**: 多层缓存机制提升性能
- **持久化**: LocalStorage本地数据存储
- **导出功能**: JSON格式数据导出和分析

### 压缩流程

1. 检测超出保留范围的历史消息
2. 构建压缩请求（系统提示词 + 上下文 + 目标消息）
3. 调用AI模型进行压缩处理
4. 缓存压缩结果避免重复处理
5. 更新消息状态和统计信息



## 🤝 贡献

欢迎提交Issue和Pull Request来改进这个项目！

---

**开始探索AI对话的无限可能！** 🚀